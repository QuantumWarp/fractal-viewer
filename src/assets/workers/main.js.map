{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./worker/app-workers/app.workers.ts","webpack:///./worker/app-workers/cpu-intensive.worker.ts","webpack:///./worker/app-workers/shared/worker-message.model.ts","webpack:///./worker/app-workers/shared/worker-topic.constants.ts","webpack:///./worker/main.worker.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { CPUIntensiveWorker } from './cpu-intensive.worker';\r\nimport { WorkerMessage } from './shared/worker-message.model';\r\nimport { WORKER_TOPIC } from './shared/worker-topic.constants';\r\n\r\nexport class AppWorkers {\r\n  workerCtx: any;\r\n  created: Date;\r\n\r\n  constructor(workerCtx: any) {\r\n    this.workerCtx = workerCtx;\r\n    this.created = new Date();\r\n  }\r\n\r\n  workerBroker($event: MessageEvent): void {\r\n    const { topic, data } = $event.data as WorkerMessage;\r\n    const workerMessage = new WorkerMessage(topic, data);\r\n\r\n    switch (topic) {\r\n      case WORKER_TOPIC.cpuIntensive:\r\n        this.workerCPUIntensive(workerMessage);\r\n        break;\r\n      default:  // Add support for more workers here\r\n        console.error('Topic Does Not Match');\r\n    }\r\n  }\r\n\r\n  workerCPUIntensive(value: WorkerMessage): void {\r\n    this.returnWorkResults(CPUIntensiveWorker.doWork(value));\r\n  }\r\n\r\n  /**\r\n   * Posts results back through to the worker\r\n   * @param {WorkerMessage} message\r\n   */\r\n  private returnWorkResults(message: WorkerMessage): void {\r\n    this.workerCtx.postMessage(message);\r\n  }\r\n}\r\n","import { WorkerMessage } from './shared/worker-message.model';\r\n\r\nexport class CPUIntensiveWorker {\r\n\r\n  public static doWork(value: WorkerMessage): WorkerMessage {\r\n    const before = new Date();\r\n    let count = 0;\r\n    while (true) {\r\n      count++;\r\n      const now = new Date();\r\n      if (now.valueOf() - before.valueOf() > value.data.duration) {\r\n        break;\r\n      }\r\n    }\r\n    return new WorkerMessage(value.topic, { iteration: count });\r\n  }\r\n}\r\n","export class WorkerMessage {\r\n  topic: string;\r\n  data: any;\r\n\r\n  constructor(topic: string, data: any) {\r\n    this.topic = topic;\r\n    this.data = data;\r\n  }\r\n\r\n  public static getInstance(value: any): WorkerMessage {\r\n    const { topic, data } = value;\r\n    return new WorkerMessage(topic, data);\r\n  }\r\n}\r\n","export const WORKER_TOPIC = {\r\n  cpuIntensive: 'cupIntensive',\r\n  imageProcessor: 'imageProcessor'\r\n};\r\n","import { AppWorkers } from './app-workers/app.workers';\r\n\r\nexport const worker = new AppWorkers(self);\r\naddEventListener('message', ($event: MessageEvent) => {\r\n  worker.workerBroker($event);\r\n});\r\n"],"sourceRoot":""}